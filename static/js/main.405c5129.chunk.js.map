{"version":3,"sources":["components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","utils/constants.js","contexts/CardsContext.js","components/App.js","serviceWorker.js","index.js","images/header__logo.svg","images/profile__edit-button_image.svg"],"names":["Header","className","src","headerLogoImage","alt","Card","title","likeCounter","onCardClick","ownerId","currentUser","likes","onCardLike","onCardDelete","card","isOwn","isLiked","some","i","_id","elementDeleteButtonClassName","elementLikeButtonClassName","onClick","type","CurrentUserContext","React","createContext","Main","cards","onEditAvatar","onEditProfile","onAddPlace","useContext","useEffect","avatar","editButtonImage","name","about","map","link","key","length","Footer","PopupWithForm","onClose","onSubmbit","isOpen","actionCaption","children","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","setAbout","e","preventDefault","id","placeholder","minLength","maxLength","pattern","required","noValidate","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","AddPlacePopup","url","setUrl","console","log","ImagePopup","api","document","querySelector","token","baseUrl","cohort","this","_token","_baseUrl","urlPostfix","fetch","headers","authorization","then","result","ok","json","Promise","reject","status","method","body","JSON","stringify","cardId","methodValue","CardsContext","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","fetchData","userInfo","catch","err","dataCards","item","owner","Provider","deleteCard","filter","c","likeCard","newCard","newCards","postCard","updateAvatar","editProfile","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.405c5129.chunk.js","sourcesContent":["import React from 'react';\nimport headerLogoImage from '../images/header__logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={headerLogoImage} alt=\"Логотип\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Card({\n  title,\n  src,\n  alt,\n  likeCounter,\n  onCardClick,\n  ownerId,\n  currentUser,\n  likes,\n  onCardLike,\n  onCardDelete,\n  card,\n}) {\n  const isOwn = ownerId === currentUser;\n  const isLiked = likes.some((i) => i._id === currentUser);\n  const elementDeleteButtonClassName = `element__delete-button ${\n    isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden'\n  }`;\n  const elementLikeButtonClassName = `element__like ${\n    isLiked ? 'element__like_active' : 'element__like_unactive'\n  }`;\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__image\"\n        src={src}\n        alt={alt}\n        onClick={onCardClick}\n      />\n      <button\n        type=\"button\"\n        className={elementDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <p className=\"element__title\">{title}</p>\n      <div className=\"element__wrapper\">\n        <button\n          className={elementLikeButtonClassName}\n          onClick={handleLikeClick}\n        ></button>\n        <p className=\"element__like-counter\">{likeCounter}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport Card from './Card.js';\nimport editButtonImage from '../images/profile__edit-button_image.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nfunction Main({\n  cards,\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {}, []);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__wrapper\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            alt=\"Фото профиля\"\n          />\n          <img\n            className=\"profile__avatar-edit\"\n            src={editButtonImage}\n            alt=\"Редактировать\"\n            onClick={onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__profile-info\">\n          <h2 className=\"profile__full-name\">{currentUser.name}</h2>\n          <button\n            className=\"profile__edit-button\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__vocation\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card) => (\n          <Card\n            title={card.name}\n            src={card.link}\n            alt={card.name}\n            key={card._id}\n            currentUser={currentUser._id}\n            ownerId={card.ownerId}\n            likes={card.likes}\n            likeCounter={card.likes.length}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n            card={card}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({\n  name,\n  title,\n  onClose,\n  onSubmbit,\n  isOpen,\n  actionCaption,\n  children,\n}) {\n  return (\n    <section className={`popup popup_${name} ${isOpen && 'popup_opened'}`}>\n      <form\n        className={`popup__container popup__container_${name}`}\n        onSubmit={onSubmbit}\n      >\n        <h2 className=\"popup__heading\">{title}</h2>\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        {children}\n        <button\n          type=\"submit\"\n          className={`popup__action-button popup__action-button_${name}`}\n        >\n          {actionCaption}\n        </button>\n      </form>\n    </section>\n  );\n}\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser]);\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleAboutChange(e) {\n    setAbout(e.target.value);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about,\n    });\n  }\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      actionCaption=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmbit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        name=\"name\"\n        id=\"full-name\"\n        placeholder=\"Имя полностью\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        pattern=\"[a-zA-ZА-ЯЁа-яё\\s\\-]+[^\\s\\-]+\"\n        required\n        noValidate\n        value={name}\n        onChange={handleNameChange}\n      />\n      <p className=\"popup__input-error\" id=\"full-name-error\"></p>\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        name=\"about\"\n        id=\"vocation\"\n        placeholder=\"Призвание\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        noValidate\n        value={about}\n        onChange={handleAboutChange}\n      />\n      <p className=\"popup__input-error\" id=\"vocation-error\"></p>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef('');\n\n  function handleChange(e) {\n    avatarRef.current = e.target.value;\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current,\n    });\n  }\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      actionCaption=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmbit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        name=\"url\"\n        id=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        noValidate\n        onChange={handleChange}\n      />\n      <p className=\"popup__input-error\" id=\"link-error\"></p>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = React.useState('');\n  const [url, setUrl] = React.useState('');\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    console.log('submited');\n    onAddPlace({ name, url });\n  }\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleUrlChange(e) {\n    setUrl(e.target.value);\n  }\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"Новое место\"\n      actionCaption=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmbit={handleAddPlaceSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        name=\"name\"\n        id=\"name\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        pattern=\"[a-zA-ZА-ЯЁа-яё\\s\\-]+[^\\s\\-]+\"\n        required\n        noValidate\n        value={name}\n        onChange={handleNameChange}\n      />\n      <p className=\"popup__input-error\" id=\"name-error\"></p>\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        name=\"url\"\n        id=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        noValidate\n        value={url}\n        onChange={handleUrlChange}\n      />\n      <p className=\"popup__input-error\" id=\"url-error\"></p>\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <section className={`popup popup-enlarge ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container-enl\">\n        <img className=\"popup__image\" src={card.src} alt={card.alt} />\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        ></button>\n        <p className=\"popup__caption\">{card.alt}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","import { token, baseUrl, cohort } from './constants.js';\n\nclass Api {\n  constructor(token, baseUrl, cohort) {\n    this._token = token;\n    this._baseUrl = `${baseUrl}${cohort}`;\n  }\n  fetchData(urlPostfix) {\n    return fetch(`${this._baseUrl}${urlPostfix}`, {\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else {\n        return Promise.reject(`Ошибка: ${result.status}`);\n      }\n    });\n  }\n  editProfile(urlPostfix, name, about) {\n    return fetch(`${this._baseUrl}${urlPostfix}`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`,\n      }),\n    }).then((result) => result.json());\n  }\n\n  postCard(urlPostfix, name, link) {\n    return fetch(`${this._baseUrl}${urlPostfix}`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: `${name}`,\n        link: `${link}`,\n      }),\n    })\n      .then((result) => result.json())\n  }\n\n  deleteCard(urlPostfix) {\n    return fetch(`${this._baseUrl}${urlPostfix}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n  likeCard(urlPostfix, cardId, isLiked) {\n    let methodValue;\n    isLiked ? (methodValue = 'DELETE') : (methodValue = 'PUT');\n    return fetch(`${this._baseUrl}${urlPostfix}/likes/${cardId}`, {\n      method: methodValue,\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n    }).then((result) => result.json());\n  }\n\n  updateAvatar(urlPostfix, link) {\n    return fetch(`${this._baseUrl}${urlPostfix}/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        avatar: `${link}`,\n      }),\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else {\n        return Promise.reject(`Ошибка: ${result.status}`);\n      }\n    });\n  }\n}\n\nconst api = new Api(token, baseUrl, cohort);\n\nexport default api;\n","/*legacy code */\n/* page elements const */\nconst editButton = document.querySelector('.profile__edit-button');\nconst addButton = document.querySelector('.profile__add-button');\nconst editAvatar = document.querySelector('.profile__avatar-edit');\nconst profileFullName = document.querySelector('.profile__full-name');\nconst profileVocation = document.querySelector('.profile__vocation');\nconst profileAvatar = document.querySelector('.profile__avatar');\n/* popup const */\nconst popupFullName = document.querySelector('#full-name');\nconst popupVocation = document.querySelector('#vocation');\nconst popupAvatar = document.querySelector('#link');\n\n/* config */\nconst targetContainer = '.elements'; // target for inserting new instances of Card\nconst cardTemplate = '.element__template';\nconst token = '91f20ff1-daca-4d5c-889a-e104c276a690';\nconst idOnServer = 'a2ce638f0c69119d45d04bb7';\nconst cohort = 'cohort-12';\nconst baseUrl = 'https://mesto.nomoreparties.co/v1/';\nconst userInfoPostfix = `/users/me`;\nconst cardsPostfix = `/cards`;\n\n/*validation const */\nconst configValidation = {\n  formSelector: '.popup__container',\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__action-button',\n  inactiveButtonClass: 'popup__action-button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__input-error_active',\n};\n// const editFormValidaion = new FormValidator(configValidation, \".popup__container_edit\");\n// const addFormValidation = new FormValidator(configValidation, \".popup__container_add\");\n// const avatarFormValidation = new FormValidator(configValidation, \".popup__container_avatar\");\n\nexport {\n  editButton,\n  addButton,\n  editAvatar,\n  profileFullName,\n  profileVocation,\n  profileAvatar,\n  popupFullName,\n  popupVocation,\n  popupAvatar,\n  targetContainer,\n  cardTemplate,\n  configValidation,\n  // editFormValidaion,\n  // addFormValidation,\n  // avatarFormValidation,\n  token,\n  cohort,\n  baseUrl,\n  userInfoPostfix,\n  cardsPostfix,\n  idOnServer,\n  // editActionButton,\n  // avatarActionButton,\n  // addActionButton,\n};\n","import React from 'react';\nexport const CardsContext = React.createContext();\n","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/Api.js';\nimport { CardsContext } from '../contexts/CardsContext.js';\nimport { userInfoPostfix, cardsPostfix } from '../utils/constants.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState('');\n  const [currentUser, setCurrentUser] = React.useState('');\n\n  const [cards, setCards] = React.useState([]);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .likeCard(cardsPostfix, card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardDelete(card) {\n    console.log('card._id', card._id);\n    /* cards state updated only in case of response success */\n    api\n      .deleteCard(`${cardsPostfix}/${card._id}`)\n      .then(() => setCards(cards.filter((c) => c._id !== card._id)))\n      .catch((err) => console.log(err));\n  }\n  React.useEffect(() => {\n    api\n      .fetchData(userInfoPostfix)\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    api\n      .fetchData(cardsPostfix)\n      .then((dataCards) =>\n        setCards(\n          dataCards.map((item) => ({\n            _id: item._id,\n            name: item.name,\n            link: item.link,\n            likes: item.likes,\n            ownerId: item.owner._id,\n          }))\n        )\n      )\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardClick(e) {\n    setSelectedCard(e.target);\n    setImagePopupOpen(true);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .editProfile(userInfoPostfix, name, about)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .updateAvatar(userInfoPostfix, avatar)\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit({ name, url }) {\n    api\n      .postCard(cardsPostfix, name, url)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setImagePopupOpen(false);\n    setSelectedCard('');\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <CardsContext.Provider value={cards}>\n        <div className=\"App\">\n          <div className=\"page\">\n            <Header />\n            <Main\n              cards={cards}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardDelete={handleCardDelete}\n              onCardLike={handleCardLike}\n            />\n            <Footer />\n\n            <PopupWithForm\n              name=\"delete\"\n              title=\"Вы уверены?\"\n              actionCaption=\"Да\"\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit}\n            />\n\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n\n            <ImagePopup\n              isOpen={isImagePopupOpen}\n              card={selectedCard}\n              onClose={closeAllPopups}\n            />\n          </div>\n        </div>\n      </CardsContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/header__logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/profile__edit-button_image.58afbe73.svg\";"],"sourceRoot":""}